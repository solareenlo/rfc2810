<!DOCTYPE HTML>
<html lang="ja" class="sidebar-visible no-js light">
    <head>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-200.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-300.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-500.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-600.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-700.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-900.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-regular.woff2" crossorigin>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>RFC2810 アーキテクチャ</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <link rel="stylesheet" href="fonts/font.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="src/theme/solarized-light-hljs.css">
        <link rel="stylesheet" href="src/theme/solarized-dark-hljs.css">
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Home</a></li><li class="chapter-item expanded "><a href="introduction/index.html"><strong aria-hidden="true">1.</strong> 序説</a></li><li class="chapter-item expanded "><a href="components/index.html"><strong aria-hidden="true">2.</strong> コンポーネント</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="components/servers.html"><strong aria-hidden="true">2.1.</strong> サーバ</a></li><li class="chapter-item expanded "><a href="components/clients.html"><strong aria-hidden="true">2.2.</strong> クライアント</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="components/user-clients.html"><strong aria-hidden="true">2.2.1.</strong> ユーザクライアント</a></li><li class="chapter-item expanded "><a href="components/service-clients.html"><strong aria-hidden="true">2.2.2.</strong> サービスクライアント</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="architecture/index.html"><strong aria-hidden="true">3.</strong> アーキテクチャ</a></li><li class="chapter-item expanded "><a href="irc-protocol-services/index.html"><strong aria-hidden="true">4.</strong> IRC プロトコルサービス</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="irc-protocol-services/client-locator.html"><strong aria-hidden="true">4.1.</strong> クライアントの位置</a></li><li class="chapter-item expanded "><a href="irc-protocol-services/message-relaying.html"><strong aria-hidden="true">4.2.</strong> メッセージの中継</a></li><li class="chapter-item expanded "><a href="irc-protocol-services/channel-hosting-and-management.html"><strong aria-hidden="true">4.3.</strong> チャネルのホスティングと管理</a></li></ol></li><li class="chapter-item expanded "><a href="irc-concepts/index.html"><strong aria-hidden="true">5.</strong> IRC コンセプト</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="irc-concepts/one-to-one-communication.html"><strong aria-hidden="true">5.1.</strong> 1対1のコミュニケーション</a></li><li class="chapter-item expanded "><a href="irc-concepts/one-to-many.html"><strong aria-hidden="true">5.2.</strong> 1対多</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="irc-concepts/to-a-channel.html"><strong aria-hidden="true">5.2.1.</strong> 1対チャネル</a></li><li class="chapter-item expanded "><a href="irc-concepts/to-a-host-server-mask.html"><strong aria-hidden="true">5.2.2.</strong> 1対ホスト/サーバマスク</a></li><li class="chapter-item expanded "><a href="irc-concepts/to-a-list.html"><strong aria-hidden="true">5.2.3.</strong> 1対リスト</a></li></ol></li><li class="chapter-item expanded "><a href="irc-concepts/one-to-all.html"><strong aria-hidden="true">5.3.</strong> 1対全</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="irc-concepts/client-to-client.html"><strong aria-hidden="true">5.3.1.</strong> クライアント-&gt;クライアント</a></li><li class="chapter-item expanded "><a href="irc-concepts/client-to-server.html"><strong aria-hidden="true">5.3.2.</strong> クライアント-&gt;サーバ</a></li><li class="chapter-item expanded "><a href="irc-concepts/server-to-server.html"><strong aria-hidden="true">5.3.3.</strong> サーバ-&gt;サーバ</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="current-problems/index.html"><strong aria-hidden="true">6.</strong> 現在の問題点</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-problems/scalability.html"><strong aria-hidden="true">6.1.</strong> スケーラビリティ</a></li><li class="chapter-item expanded "><a href="current-problems/reliability.html"><strong aria-hidden="true">6.2.</strong> 信頼性</a></li><li class="chapter-item expanded "><a href="current-problems/network-congestion.html"><strong aria-hidden="true">6.3.</strong> ネットワークの混雑状況</a></li><li class="chapter-item expanded "><a href="current-problems/privacy.html"><strong aria-hidden="true">6.4.</strong> プライバシ</a></li></ol></li><li class="chapter-item expanded "><a href="security-considerations/index.html"><strong aria-hidden="true">7.</strong> セキュリティへの配慮</a></li><li class="chapter-item expanded "><a href="current-support-and-availability/index.html"><strong aria-hidden="true">8.</strong> 現在のサポートと可用性</a></li><li class="chapter-item expanded "><a href="acknowledgements/index.html"><strong aria-hidden="true">9.</strong> 謝辞</a></li><li class="chapter-item expanded "><a href="references/index.html"><strong aria-hidden="true">10.</strong> 参考</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="solarized-light">Solarized Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="solarized-dark">Solarized Dark</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">RFC2810 アーキテクチャ</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/solareenlo/rfc2810" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <pre><code>Network Working Group                                           C. Kalt
Request for Comments: 2810                                   April 2000
Updates: 1459
Category: Informational
</code></pre>
<h1 align="center">
Internet Relay Chat: アーキテクチャ
</h1>
<h2 id="irc"><a class="header" href="#irc">IRC</a></h2>
<ul>
<li><a href="https://solareenlo.com/rfc1459">RFC 1459</a> (Internet Relay Chat Protocol)</li>
<li><a href="https://solareenlo.com/rfc2810">RFC 2810</a> (Internet Relay Chat: Architecture)</li>
<li><a href="https://solareenlo.com/rfc2811">RFC 2811</a> (Internet Relay Chat: Channel Management)</li>
<li><a href="https://solareenlo.com/rfc2812">RFC 2812</a> (Internet Relay Chat: Client Protocol)</li>
<li><a href="https://solareenlo.com/rfc2813">RFC 2813</a> (Internet Relay Chat: Server Protocol)</li>
<li><a href="https://solareenlo.com/rfc7194">RFC 7194</a> (Default Port for Internet Relay Chat (IRC) via TLS/SSL)</li>
</ul>
<h2 id="本メモの位置づけ"><a class="header" href="#本メモの位置づけ">本メモの位置づけ</a></h2>
<p>このメモは、インターネットコミュニティーのための情報を提供するものです。このメモは、いかなる種類のインターネット標準も規定するものではありません。このメモの配布は無制限です。</p>
<h2 id="著作権について"><a class="header" href="#著作権について">著作権について</a></h2>
<p>Copyright (C) The Internet Society (2000).  All Rights Reserved.</p>
<h2 id="概要"><a class="header" href="#概要">概要</a></h2>
<p>IRC（Internet Relay Chat）プロトコルは、テキストベースの会議で使用するためのプロトコルです。1989年に BBS でユーザ同士がチャットをするために実装されて以来、発展してきました。</p>
<p>1993年5月に <a href="https://solareenlo.com/rfc1459">RFC 1459</a> [IRC] で初めて正式に文書化されたこのプロトコルは、進化を続けています。この文書は、現在の IRC プロトコルのアーキテクチャとその異なるコンポーネントの役割を説明する更新版です。他の文書では、ここで定義された様々なコンポーネント間で使用されるプロトコルを詳細に説明しています。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="1-序説"><a class="header" href="#1-序説">1. 序説</a></h1>
<p>IRC（Internet Relay Chat）プロトコルは、テキストベースの会議で使用するために何年もかけて設計されています。 この文書では、その現在のアーキテクチャについて説明します。</p>
<p>IRC プロトコルはクライアント・サーバモデルをベースにしており、多くのマシン上で分散して動作させるのに適しています。 典型的なセットアップは、クライアント（または他のサーバ）が接続するための中心点を形成する単一のプロセス（サーバ）を含み、必要なメッセージ配信/多重化および他の機能を実行します。</p>
<p>各サーバーがグローバルな状態情報のコピーを持つ必要があるこの分散モデルは、ネットワークが到達できる最大規模を制限する重大なハンディキャップであり、今でもプロトコルの最も重大な問題点です。既存のネットワークが驚異的なスピードで成長し続けることができたとすれば、私たちはより強力なシステムを提供し続けてくれたハードウェアメーカーに感謝しなければなりません。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="2-コンポーネント"><a class="header" href="#2-コンポーネント">2. コンポーネント</a></h1>
<p>以下の章では、IRC プロトコルの基本的な構成要素を定義しています。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="21-サーバ"><a class="header" href="#21-サーバ">2.1 サーバ</a></h1>
<p>サーバは IRC のバックボーンを形成し、他のすべてのコンポーネントを一緒にリンクすることができるプロトコルの唯一のコンポーネントです：これはクライアントがお互いに話すために接続するポイント [<a href="https://solareenlo.com/rfc2812">IRC-CLIENT</a>] と、他のサーバが接続するポイント [<a href="https://solareenlo.com/rfc2813">IRC-SERVER</a>] を提供します。また、サーバーは、IRC プロトコルで定義された基本的なサービスを提供する役割を担っています。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="22-クライアント"><a class="header" href="#22-クライアント">2.2 クライアント</a></h1>
<p>クライアントとは、他のサーバではないサーバに接続するものです。クライアントには2種類あり、それぞれ異なる目的を持ちます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="221-ユーザクライアント"><a class="header" href="#221-ユーザクライアント">2.2.1 ユーザクライアント</a></h1>
<p>ユーザクライアントは、一般に IRC を介して対話的に通信するために使用されるテキストベースのインタフェースを提供するプログラムです。この特定のタイプのクライアントは、しばしば &quot;ユーザ&quot; と呼ばれます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="222-サーバクライアント"><a class="header" href="#222-サーバクライアント">2.2.2 サーバクライアント</a></h1>
<p>サービスクライアントは、ユーザとは異なり、手動で使用したり、会話したりすることは意図されていません。サービスクライアントは、プロトコルのチャット機能により限定的にアクセスし、オプションでサーバからよりプライベートなデータにアクセスすることができます。</p>
<p>サービスとは、通常、何らかのサービス（必ずしも IRC そのものとは関係ない）をユーザに提供するために使用されるオートマトンです。例としては、IRC ネットワークに接続しているユーザの出身地に関する統計を収集するサービスがあります。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="3-アーキテクチャ"><a class="header" href="#3-アーキテクチャ">3. アーキテクチャ</a></h1>
<p>IRC ネットワークは、互いに接続されたサーバのグループによって定義されます。単一のサーバは、最も単純な IRC ネットワークを形成します。</p>
<p>IRC サーバに許されるネットワーク構成は、各サーバがネットワークの残りの部分に対して中心ノードとして機能するスパニングツリーのものだけです。</p>
<pre><code>    1--\
        A        D---4
    2--/ \      /
          B----C
         /      \
        3        E

 Servers: A, B, C, D, E Clients: 1, 2, 3, 4

 [ 図1. 小規模 IRC ネットワークの例 ]
</code></pre>
<p>IRC プロトコルは、2つのクライアントが直接通信する手段を提供しません。クライアント間のすべてのコミュニケーションはサーバによって中継されます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="4-irc-プロトコルサービス"><a class="header" href="#4-irc-プロトコルサービス">4. IRC プロトコルサービス</a></h1>
<p>ここでは、IRC プロトコルが提供するサービスについて説明します。これらのサービスを組み合わせることで、リアルタイムの会議が可能になります。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="41-クライアントの位置"><a class="header" href="#41-クライアントの位置">4.1 クライアントの位置</a></h1>
<p>メッセージを交換するためには、2つのクライアントが互いの位置を特定できる必要があります。</p>
<p>サーバに接続すると、クライアントはラベルを使用して登録し、他のサーバやクライアントがそのクライアントの位置を知るために使用します。サーバは、使用されているすべてのラベルを追跡する責任があります。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="42-メッセージの中継"><a class="header" href="#42-メッセージの中継">4.2 メッセージの中継</a></h1>
<p>IRC プロトコルは、2つのクライアントが直接通信する手段を提供しません。クライアント間のすべてのコミュニケーションはサーバによって中継されます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="43-チャネルのホスティングと管理"><a class="header" href="#43-チャネルのホスティングと管理">4.3 チャネルのホスティングと管理</a></h1>
<p>チャネルは、そのチャネルに宛てられたメッセージをすべて受信し、1人または複数のユーザからなる名前付きグループです。チャネルは、その名前と現在のメンバーによって特徴付けられ、また、そのメンバ（の一部）が操作できる一連のプロパティも持っています。</p>
<p>チャネルは、1つのメッセージを複数のクライアントに送信するための手段を提供します。サーバはチャネルをホストし、必要なメッセージの多重化を提供します。また、サーバはチャネルのメンバーを追跡することによって、チャネルを管理する責任があります。サーバの正確な役割については、&quot;Internet Relay Chat: チャネル管理&quot; [<a href="https://solareenlo.com/rfc2811">IRC-CHAN</a>] に定義されています。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="5-irc-コンセプト"><a class="header" href="#5-irc-コンセプト">5. IRC コンセプト</a></h1>
<p>このセクションでは、IRC プロトコルの構成の背後にある実際の概念と、異なるクラスのメッセージがどのように配信されるかを説明することに専念します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="51-1対1のコミュニケーション"><a class="header" href="#51-1対1のコミュニケーション">5.1 1対1のコミュニケーション</a></h1>
<p>サーバとサーバのトラフィックのほとんどは、サーバ同士が会話しているわけではないので、1対1の通信は通常クライアントによって行われます。クライアントが互いに会話する手段を提供するために、すべてのサーバは、任意のクライアントに到達するために、スパニングツリーに沿って正確に1方向にメッセージを送信できることが必要です。したがって、メッセージが配送される経路は、スパニングツリー上の任意の2点間の最短経路となります。</p>
<pre><code>    1--\
        A        D---4
    2--/ \      /
          B----C
         /      \
        3        E

 Servers: A, B, C, D, E Clients: 1, 2, 3, 4

 [ 図1. 小規模 IRC ネットワークの例 ]
</code></pre>
<p>以下の例は、すべて上記の図1を参照しています。</p>
<p>例1：クライアント 1 と 2 間のメッセージは、サーバ A だけが見ることができ、サーバー A はそれをそのままクライアント 2 に送ります。</p>
<p>例2：クライアント 1 とクライアント 3 間のメッセージは、サーバ A と B、およびクライアント 3 が見ることができます。他のクライアントやサーバはそのメッセージを見ることができません。</p>
<p>例3：クライアント 2 と 4 間のメッセージは、サーバ A、B、C、D とクライアント 4 のみによって見られます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="52-1対多"><a class="header" href="#52-1対多">5.2 1対多</a></h1>
<p>IRC の主な目的は、簡単かつ効率的にコンファレンス（1対多の会話）を行うことができるフォーラムを提供することです。IRC はこれを実現するためにいくつかの手段を提供しており、それぞれが独自の目的をもっています。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="521-1対チャネル"><a class="header" href="#521-1対チャネル">5.2.1 1対チャネル</a></h1>
<p>IRC では、チャネルはマルチキャストグループと同等の役割を持っています。その存在は動的で、チャネル上で行われる実際の会話は、与えられたチャネル上のユーザをサポートしているサーバにのみ送信されなければなりません。さらに、各サーバはすべての受信者に確実に届くようにオリジナルメッセージをファンする責任があるので、メッセージはすべてのローカルリンクに一度だけ送信されなければなりません。</p>
<pre><code>    1--\
        A        D---4
    2--/ \      /
          B----C
         /      \
        3        E

 Servers: A, B, C, D, E Clients: 1, 2, 3, 4

 [ 図1. 小規模 IRC ネットワークの例 ]
</code></pre>
<p>以下の例は、すべて図1を参照しています。</p>
<p>例4：クライアントが1人いる任意のチャネル。そのチャネルへのメッセージはサーバに行き、それ以外の場所には行きません。</p>
<p>例5：2人のクライアントがチャネルにいる場合。すべてのメッセージは、チャネルの外にいる2つのクライアント間のプライベートメッセージであるかのように経路を通過します。</p>
<p>例6：クライアント 1、2、3 がチャネルにいる場合。チャネルへのすべてのメッセージは、すべてのクライアントと、それが単一のクライアントへのプライベートメッセージである場合、メッセージが通過しなければならないサーバにのみ送信されます。クライアント 1 がメッセージを送信すると、クライアント 2 に戻り、サーバ B を経由してクライアント 3 に届きます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="522-1対ホストサーバマスク"><a class="header" href="#522-1対ホストサーバマスク">5.2.2 1対ホスト/サーバマスク</a></h1>
<p>多くの関連ユーザにメッセージを送る仕組みを提供するために、ホストとサーバのマスクメッセージが用意されています。 これらのメッセージは，ホストやサーバの情報がマスクに一致するユーザに送信されます。メッセージは，チャネルと同じように，ユーザがいる場所にのみ送信されます．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="523-1対リスト"><a class="header" href="#523-1対リスト">5.2.3 1対リスト</a></h1>
<p>1対多の会話で最も効率の悪いスタイルは、クライアントがターゲットの 'リスト'（クライアント、チャネル、マスク）と会話することです。これがどのように行われるかは、ほとんど自明です：クライアントはメッセージの配送先のリストを与え、サーバはそれを分割し、与えられた各配送先にメッセージの個別のコピーを送信します。</p>
<p>この場合、宛先リストが分割され、各経路で重複して送信されないことを確認せずにディスパッチが送信される可能性があるため、チャネルを使用する場合よりも効率的ではありません。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="53-1-対全"><a class="header" href="#53-1-対全">5.3 1 対全</a></h1>
<p>1対全のメッセージはブロードキャストメッセージと呼ばれ、すべてのクライアントまたはサーバ、あるいはその両方に送信されます。ユーザとサーバからなる大規模なネットワークでは、1つのメッセージによって、希望するすべての宛先に到達するために、ネットワーク上で多くのトラフィックが送信されることになります。</p>
<p>メッセージのクラスによっては、各サーバが保持する状態情報がサーバ間で一貫性を持つように、すべてのサーバにブロードキャストする以外の選択肢はありません。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="531-クライアント-クライアント"><a class="header" href="#531-クライアント-クライアント">5.3.1 クライアント-&gt;クライアント</a></h1>
<p>1つのメッセージから、他のすべてのクライアントにメッセージが送信されるようなメッセージのクラスは存在しません。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="532-クライアント-サーバ"><a class="header" href="#532-クライアント-サーバ">5.3.2 クライアント-&gt;サーバ</a></h1>
<p>状態情報の変更をもたらすほとんどのコマンド（チャンネルメンバーシップ、チャンネルモード、ユーザステータスなど）は、デフォルトですべてのサーバに送信されなければならず、この配布はクライアントによって変更されないものとします。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="533-サーバ-サーバ"><a class="header" href="#533-サーバ-サーバ">5.3.3 サーバ-&gt;サーバ</a></h1>
<p>サーバ間のほとんどのメッセージは、すべての &quot;他の&quot; サーバに配信されますが、これはユーザ、チャネル、サーバに影響を与えるメッセージにのみ必要です。これらは IRC で見られる基本的な項目なので、あるサーバから発信されたほぼすべてのメッセージは、接続されている他のすべてのサーバにブロードキャストされます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="6-現在の問題点"><a class="header" href="#6-現在の問題点">6. 現在の問題点</a></h1>
<p>このプロトコルには多くの認識された問題がありますが、このセクションではプロトコルのアーキテクチャに関する問題のみを取り上げます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="61-スケーラビリティ"><a class="header" href="#61-スケーラビリティ">6.1 スケーラビリティ</a></h1>
<p>このプロトコルは、大規模なアリーナで使用する場合、十分にスケールしないことが広く認識されています。主な問題は、すべてのサーバが他のすべてのサーバ、クライアント、チャネルについて知っており、それらに関する情報が変更されるとすぐに更新されるという要件から来るものです。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="62-信頼性"><a class="header" href="#62-信頼性">6.2 信頼性</a></h1>
<p>IRC サーバに許されるネットワーク構成はスパニングツリーのみであるため、2つのサーバ間の各リンクは明らかに深刻な障害点となります。この問題は、<a href="https://solareenlo.com/rfc2813">&quot;Internet Relay Chat: サーバプロトコル&quot; [IRC-SERVER]</a> で詳しく説明されています。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="63-ネットワークの混雑状況"><a class="header" href="#63-ネットワークの混雑状況">6.3 ネットワークの混雑状況</a></h1>
<p>また、スケーラビリティや信頼性の問題、スパニングツリーアーキテクチャに関連する問題として、IRC のプロトコルやアーキテクチャはネットワークの輻輳に対して非常に脆弱であることが挙げられます。この問題は常態化しており、次世代では解決すべき問題です。輻輳と大量のトラフィックによって2つのサーバ間のリンクに障害が発生すると、この障害によってネットワークトラフィックが増大するだけでなく、2つのサーバの再接続（最終的には別の場所）にもトラフィックが発生します。</p>
<p>これらの問題の影響を最小限に抑えるため、状況を悪化させないよう、サーバが自動的に高速な再接続を試みないことが強く推奨されます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="64-プライバシ"><a class="header" href="#64-プライバシ">6.4 プライバシ</a></h1>
<p>サーバは他のエンティティに関するすべての情報を知る必要があるため、うまく拡張できないことに加え、プライバシーの問題も懸念されます。特にチャネルについては、ユーザがオンラインかどうかよりも、関連する情報の方がかなり明らかになるためです。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="7-セキュリティへの配慮"><a class="header" href="#7-セキュリティへの配慮">7. セキュリティへの配慮</a></h1>
<p><a href="security-considerations/../current-problems/privacy.html">6.4 プライバシー</a>の章で述べたプライバシーの問題を除けば、セキュリティは本書とは無関係と考えられます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="8-現在のサポートと可用性"><a class="header" href="#8-現在のサポートと可用性">8. 現在のサポートと可用性</a></h1>
<p>Mailing lists for IRC related discussion:</p>
<ul>
<li>General discussion: ircd-users@irc.org</li>
<li>Protocol development: ircd-dev@irc.org</li>
</ul>
<p>Software implementations:</p>
<ul>
<li><a href="ftp://ftp.irc.org/irc/server">ftp://ftp.irc.org/irc/server</a></li>
<li><a href="ftp://ftp.funet.fi/pub/unix/irc">ftp://ftp.funet.fi/pub/unix/irc</a></li>
<li><a href="ftp://coombs.anu.edu.au/pub/irc">ftp://coombs.anu.edu.au/pub/irc</a></li>
</ul>
<p>Newsgroup: alt.irc</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="9-謝辞"><a class="header" href="#9-謝辞">9. 謝辞</a></h1>
<p>この文書の一部は、IRC プロトコルを最初に正式に文書化した <a href="https://solareenlo.com/rfc1459">RFC 1459</a> [IRC] からコピーされたものです。また、多くのレビューとコメントから恩恵を受けています。 特に、以下の方々がこの文書に大きな貢献をされました。</p>
<p>Matthew Green, Michael Neumayer, Volker Paulsen, Kurt Roeckx, Vesa Ruokonen, Magnus Tjernstrom, Stefan Zehl.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="10-参考"><a class="header" href="#10-参考">10. 参考</a></h1>
<p>[KEYWORDS]
Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119, March 1997.</p>
<p>[<a href="https://solareenlo.com/rfc1459">IRC</a>]
Oikarinen, J. and D. Reed, &quot;Internet Relay Chat Protocol&quot;, RFC 1459, May 1993.</p>
<p>[<a href="https://solareenlo.com/rfc2812">IRC-CLIENT</a>]
Kalt, C., &quot;Internet Relay Chat: Client Protocol&quot;, RFC 2812, April 2000.</p>
<p>[<a href="https://solareenlo.com/rfc2813">IRC-SERVER</a>]
Kalt, C., &quot;Internet Relay Chat: Server Protocol&quot;, RFC 2813, April 2000.</p>
<p>[<a href="https://solareenlo.com/rfc2811">IRC-CHAN</a>]
Kalt, C., &quot;Internet Relay Chat: Channel Management&quot;, RFC 2811, April 2000.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="src/theme/theme-solarized_dark.js"></script>
        <script type="text/javascript" src="src/theme/theme-solarized_light.js"></script>
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
    </body>
</html>
